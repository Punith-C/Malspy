package com.example.malwareapp;

import android.content.Intent;
import android.os.Bundle;
import android.widget.Button;
import androidx.appcompat.app.AppCompatActivity;

public class O4DashboardActivity extends AppCompatActivity {
    Button staticBtn, dynamicBtn, hybridBtn;
    String appName, packageName, apkUriStr, analysisType;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_dashboard);

        staticBtn = findViewById(R.id.staticBtn);
        dynamicBtn = findViewById(R.id.dynamicBtn);
        hybridBtn = findViewById(R.id.hybridBtn);

        appName = getIntent().getStringExtra("appName");
        packageName = getIntent().getStringExtra("packageName");
        apkUriStr = getIntent().getStringExtra("apkUri");

        staticBtn.setOnClickListener(v -> openAnalysis("static"));
        dynamicBtn.setOnClickListener(v -> openAnalysis("dynamic"));
        hybridBtn.setOnClickListener(v -> openAnalysis("hybrid"));
    }

    private void openAnalysis(String type) {
        Intent intent = new Intent(this, O5AnalysisActivity.class);
        intent.putExtra("analysisType", type);
        intent.putExtra("appName", appName);
        intent.putExtra("packageName", packageName);
        intent.putExtra("apkUri", apkUriStr);
        startActivity(intent);
    }
}
